// ─────────────────────────────────────────────────────────────────────────────
// HOME PAGE STYLES
// Below-the-fold styles for the homepage that load after critical styles.
// The first section of the home page should go in critical.scss, while the
// rest of the home page styles go in here.
// ─────────────────────────────────────────────────────────────────────────────

/*-- -------------------------- -->
<---       Side By Side         -->
<--- -------------------------- -*/

/* Mobile - 360px */
@media only screen and (min-width: 0rem) {
    #RPsbs-313,
    #RPsbsr-313 {
        padding: var(--sectionPadding);

        .cs-container {
            width: 100%;
            max-width: calc(1280 / 16 * 1rem);
            margin: auto;
            display: flex;
            flex-direction: column;
            align-items: center;
            /* 48px - 64px */
            gap: clamp(3rem, 6vw, 4rem);
        }

        .cs-content {
            /* set text align to left if content needs to be left aligned */
            text-align: left;
            width: 100%;
            max-width: calc(542 / 16 * 1rem);
            display: flex;
            flex-direction: column;
            /* centers content horizontally, set to flex-start to left align */
            align-items: flex-start;
        }

        .cs-text {
            margin-bottom: calc(16 / 16 * 1rem);
            &:last-of-type {
                margin-bottom: calc(32 / 16 * 1rem);
            }
        }

        .cs-quote {
            margin: 0 0 calc(32 / 16 * 1rem) 0;
            /* 16px - 32px */
            padding: clamp(1rem, 3vw, 2rem);
            background-color: #f7f7f7;
            border-radius: calc(16 / 16 * 1rem);
            position: relative;
        }

        .cs-quote-text {
            /* 14px - 16px */
            font-size: clamp(0.875rem, 1.5vw, 1rem);
            line-height: 1.5em;
            margin: 0 0 calc(16 / 16 * 1rem);
            color: #767676;
            display: block;
        }

        .cs-name {
            font-size: calc(16 / 16 * 1rem);
            line-height: 1.2em;
            text-transform: uppercase;
            font-weight: bold;
            margin: 0 0 calc(4 / 16 * 1rem);
            color: var(--headerColor);
            display: block;
        }

        .cs-job {
            font-size: calc(14 / 16 * 1rem);
            line-height: 1.5em;
            color: #767676;
            display: block;
        }

        .cs-quote-icon {
            /* 60px - 136px */
            width: clamp(3.75rem, 10vw, 8.5rem);
            height: auto;
            position: absolute;
            bottom: calc(0 / 16 * 1rem);
            /* 16px - 32px */
            right: clamp(1rem, 4vw, 2rem);
        }

        .cs-image-group {
            /* scaling the font size with the view width */
            font-size: min(2.31vw, 0.7em);
            /* using ems so we can use font size to scale the whole section */
            width: calc(631 / 16 * 1em);
            height: calc(636 / 16 * 1em);
            position: relative;
            display: flex;
            justify-content: center;

        }

        .cs-picture {
            border-radius: calc(24 / 16 * 1em);
            /* clips img tag corners */
            overflow: hidden;
            position: absolute;
            display: block;

            img {
                position: absolute;
                top: 0;
                left: 0;
                height: 100%;
                width: 100%;
                /* makes image act like a background image */
                object-fit: cover;
            }
        }

        .cs-picture1 {
            width: calc(522 / 16 * 1em);
            height: calc(581 / 16 * 1em);
            left: 0;
            top: 0;
              position: relative;
            left: auto;
            top: auto;
            margin: 0 auto;
        }

        .cs-picture2 {
            width: calc(414 / 16 * 1em);
            height: calc(400 / 16 * 1em);
            background-color: #fff;
            box-shadow: rgba(0, 0, 0, 0.1) 0px 0px 40px;
            /* 6px - 12px */
            border: clamp(0.375em, 1.5vw, 0.75em) solid #fff;
            right: 0;
            bottom: 0;
        }
    }
    
}

@media only screen and (max-width: 37.5rem) { /* ≤ 600px */
    #RPsbs-313 .cs-button-solid {
        align-self: center;
    }
}

/* Desktop - 1024px */
@media only screen and (min-width: 64rem) {
    #RPsbs-313,
    #RPsbsr-313 {
        .cs-container {
            flex-flow: row;
            justify-content: space-between;
            gap: calc(52 / 16 * 1rem);
        }

        .cs-image-group {
            font-size: min(1.2vw, 1em);
            flex: none;
        }

        .cs-content {
            margin: 0;
        }
    }
}

/*-- -------------------------- -->
<---       JS ANIMATION SBS & SBSR    -->
<--- -------------------------- -*/

    #RPsbs-313 .cs-image-group,
    #RPsbs-313 .cs-content,
    #RPsbs-313 .cs-quote,
    #RPsbsr-313 .cs-image-group,
    #RPsbsr-313 .cs-content {
    opacity: 0;
    transform: translateY(22px);
    transition: opacity 800ms ease, transform 800ms ease;
    will-change: opacity, transform;
    }

    #RPsbsr-313 .cs-image-group { transform: translateY(22px) translateX(18px); }
    #RPsbsr-313 .cs-content     { transform: translateY(22px) translateX(-18px); }

    #RPsbs-313 .cs-picture1,
    #RPsbs-313 .cs-picture2,
    #RPsbsr-313 .cs-picture1,
    #RPsbsr-313 .cs-picture2 {
    transition: transform 900ms ease;
    will-change: transform;
    }

    #RPsbs-313.is-inview .cs-image-group,
    #RPsbs-313.is-inview .cs-content,
    #RPsbs-313.is-inview .cs-quote,
    #RPsbsr-313.is-inview .cs-image-group,
    #RPsbsr-313.is-inview .cs-content {
    opacity: 1;
    transform: translateY(0) translateX(0);
    }

    #RPsbs-313.is-inview .cs-content { transition-delay: 120ms; }
    #RPsbs-313.is-inview .cs-quote   { transition-delay: 220ms; }

    #RPsbsr-313.is-inview .cs-content { transition-delay: 120ms; }

    #RPsbs-313.is-inview .cs-picture1 { transform: translateY(-10px); }
    #RPsbs-313.is-inview .cs-picture2 { transform: translateY(8px); }

    #RPsbsr-313.is-inview .cs-picture1 { transform: translateY(-8px); }
    #RPsbsr-313.is-inview .cs-picture2 { transform: translateY(10px); }

    @media (prefers-reduced-motion: reduce) {
    #RPsbs-313 .cs-image-group,
    #RPsbs-313 .cs-content,
    #RPsbs-313 .cs-quote,
    #RPsbsr-313 .cs-image-group,
    #RPsbsr-313 .cs-content {
        opacity: 1;
        transform: none;
        transition: none;
    }
    #RPsbs-313 .cs-picture1,
    #RPsbs-313 .cs-picture2,
    #RPsbsr-313 .cs-picture1,
    #RPsbsr-313 .cs-picture2 {
        transform: none;
        transition: none;
    }
    }

/*-- -------------------------- -->
<---    Side By Side Reverse    -->
<--- -------------------------- -*/

/* Mobile - 360px */
@media only screen and (min-width: 0rem) {
    #RPsbsr-313 {
        background-color: #f7f7f7;
        .cs-picture1 {
            left: auto;
            right: 0;
        }

        .cs-picture2 {
            right: auto;
            left: 0;
        }

        .cs-quote {
            background-color: rgba(0, 0, 0, 0.05);
        }
    }
}

/* Desktop - 1024px */
@media only screen and (min-width: 64rem) {
    #RPsbsr-313 {
        .cs-image-group {
            /* sends it to the right in the 2nd position */
            order: 2;
        }
    }
}

/* Dark Mode */
@media only screen and (min-width: 0rem) {
    body.dark-mode {
        #RPsbsr-313 {
            background-color: rgba(0, 0, 0, 0.2);
        }
    }
}

@media only screen and (max-width: 37.5rem) { /* ≤ 600px */
    #RPsbsr-313 .cs-button-solid {
        align-self: center;
    }
}

/*-- -------------------------- -->
<---          Reviews           -->
<--- -------------------------- -*/

/* Mobile - 360px */
@media only screen and (min-width: 0rem) {
    #reviews-67 {
        padding: var(--sectionPadding);

        .cs-container {
            width: 100%;
            max-width: calc(1280 / 16 * 1rem);
            margin: auto;
            display: flex;
            flex-direction: column;
            align-items: center;
            /* 48px - 64px */
            gap: clamp(3rem, 6vw, 4rem);
        }

        .cs-content {
            /* set text align to left if content needs to be left aligned */
            text-align: center;
            width: 100%;
            display: flex;
            flex-direction: column;
            /* centers content horizontally, set to flex-start to left align */
            align-items: center;
        }

        .cs-card-group {
            padding: 0;
            margin: 0;
            display: flex;
            flex-direction: column;
            column-gap: calc(20 / 16 * 1rem);
            row-gap: calc(64 / 16 * 1rem);
        }

        .cs-item {
            text-align: left;
            list-style: none;
            width: 100%;
            max-width: calc(630 / 16 * 1rem);
            /* pushes up the same amount the cs-item-img overlaps the card */
            margin: calc(40 / 16 * 1rem) 0 0 0;
            /* Padding L & R - 16px - 32px */
            padding: calc(60 / 16 * 1rem) clamp(1rem, 3.2vw, 2rem) 0;
            /* 32px - 40px */
            padding-bottom: clamp(2rem, 5.4vw, 2.5rem);
            box-shadow: 0px 20px 39px 0px rgba(0, 0, 0, 0.05);
            border-radius: calc(8 / 16 * 1rem);
            background: #fff;
            position: relative;
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            align-items: center;
            /* Prevents padding from affecting height & width */
            box-sizing: border-box;

            &:last-of-type {
                margin-bottom: 0;
            }
        }

        .cs-item-img {
            width: calc(80 / 16 * 1rem);
            height: calc(80 / 16 * 1rem);
            position: absolute;
            top: calc(-40 / 16 * 1rem);
        }

        .cs-item-text {
            font-size: calc(16 / 16 * 1rem);
            line-height: 1.5em;
            margin: 0 0 calc(20 / 16 * 1rem);
            padding-bottom: calc(20 / 16 * 1rem);
            color: var(--bodyTextColor);
            border-bottom: 1px solid #e8e9ec;
        }

        .cs-info {
            width: 100%;
            /* margin-top auto pushes up against the rest of the card, that way when one card has more text than the other, the reviewer info is always pushed to the bottom and lined up with the rest of them.  This ensures better responsiveness for changing content */
            margin: auto 0 0 0;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .cs-flex-group {
            width: 100%;
            margin: 0;
        }

        .cs-name {
            font-size: calc(16 / 16 * 1rem);
            line-height: 1.5em;
            font-weight: 700;
            width: 40%;
            margin: 0;
            display: block;
            color: var(--headerColor);
        }

        .cs-desc {
            font-size: calc(14 / 16 * 1rem);
            font-weight: 400;
            color: #7d799c;
            display: block;
        }

        .cs-item-stars {
            width: calc(96 / 16 * 1rem);
            height: calc(16 / 16 * 1rem);
        }

        .cs-button-solid {
            font-size: calc(16 / 16 * 1rem);
            /* 46px - 56px */
            line-height: clamp(2.875rem, 5.5vw, 3.5rem);
            text-decoration: none;
            font-weight: 700;
            text-align: center;
            margin: 0;
            color: #fff;
            min-width: calc(150 / 16 * 1rem);
            padding: 0 calc(24 / 16 * 1rem);
            background-color: var(--primary);
            border-radius: calc(4 / 16 * 1rem);
            display: inline-block;
            position: relative;
            z-index: 1;
            /* prevents padding from adding to the width */
            box-sizing: border-box;

            &:before {
                content: "";
                position: absolute;
                height: 100%;
                width: 0%;
                background: linear-gradient(90deg, 
                #009FE3 0%,  
                #EF3340 100%  
                );
                opacity: 1;
                top: 0;
                left: 0;
                z-index: -1;
                border-radius: calc(4 / 16 * 1rem);
                transition: width 0.3s;
            }

            &:hover {
                &:before {
                    width: 100%;
                }
            }
        }
    }
}

/* Tablet - 768px */
@media only screen and (min-width: 48rem) {
    #reviews-67 {
        .cs-card-group {
            flex-direction: row;
            justify-content: space-between;
        }
    }
}

/* Dark Mode */
@media only screen and (min-width: 0rem) {
    body.dark-mode {
        #reviews-67 {
            .cs-title,
            .cs-text,
            .cs-item-text,
            .cs-name {
                color: var(--bodyTextColorWhite);
            }

            .cs-item {
                background: rgba(0, 0, 0, 0.2);
            }

            .cs-desc {
                color: var(--primaryLight);
            }
        }
    }
}

/*-- -------------------------- -->
<---    JS ANIMATION REVIEWS    -->
<--- -------------------------- -*/
/* ===== WOW REVIEWS EFFECT ===== */
#reviews-67 {
    perspective: 1200px;
  }
  
  /* Base hidden state */
  #reviews-67 .cs-item {
    opacity: 0;
    transform:
      translateY(40px)
      rotateX(12deg)
      scale(0.96);
    filter: blur(12px);
    transition:
      opacity 900ms cubic-bezier(.22,.61,.36,1),
      transform 900ms cubic-bezier(.22,.61,.36,1),
      filter 900ms ease,
      box-shadow 900ms ease;
    will-change: transform, opacity, filter;
  }
  
  /* Reveal */
  #reviews-67 .cs-item.is-inview {
    opacity: 1;
    transform:
      translateY(0)
      rotateX(0)
      scale(1);
    filter: blur(0);
    box-shadow: 0 40px 80px rgba(0,0,0,0.08);
  }
  
  /* Subtle glow pulse */
  #reviews-67 .cs-item::after {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: inherit;
    background: radial-gradient(
      circle at top,
      rgba(255,255,255,0.45),
      transparent 60%
    );
    opacity: 0;
    pointer-events: none;
    transition: opacity 600ms ease;
  }
  
  #reviews-67 .cs-item.is-inview::after {
    opacity: 1;
  }
  
  /* Stars shimmer */
  #reviews-67 .cs-item-stars {
    opacity: 0;
    transform: translateX(-12px);
    transition: opacity 600ms ease, transform 600ms ease;
  }
  
  #reviews-67 .cs-item.is-inview .cs-item-stars {
    opacity: 1;
    transform: translateX(0);
    transition-delay: 500ms;
  }
  
  /* Magnetic hover tilt */
  @media (hover: hover) {
    #reviews-67 .cs-item:hover {
      transform: scale(1.02) rotateX(0) rotateY(0);
      box-shadow: 0 50px 90px rgba(0,0,0,0.12);
    }
  }
  
  /* Reduced motion */
  @media (prefers-reduced-motion: reduce) {
    #reviews-67 .cs-item {
      opacity: 1;
      transform: none;
      filter: none;
      transition: none;
    }
  }
  